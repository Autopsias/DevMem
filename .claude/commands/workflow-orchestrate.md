---
description: Multi-step workflow orchestration with sophisticated coordination patterns and memory integration
allowed-tools: [Read, Edit, MultiEdit, Bash, Grep, Glob]
argument-hint: "<workflow-type> [context-parameters] - Specify workflow type and optional context"
---

# Workflow Orchestration Command

Multi-step workflow orchestration combining Claude Code's natural agent selection with sophisticated coordination patterns, memory integration, and enhanced sequential intelligence following Anthropic's guidelines.

## Usage
```bash
/workflow-orchestrate <workflow-type> [context-parameters]
```

## Workflow Types

### **quality-pipeline**
Complete code quality and security validation workflow:
```bash
/workflow-orchestrate quality-pipeline "security analysis + code quality + testing validation"
```

**Sequential Intelligence Flow:**
1. **code-quality-specialist** â†’ Security scanning and pattern analysis (Context: Quality + Security)
2. **Context Accumulation** â†’ security-auditor for deep vulnerability analysis (Enhanced Context: Quality + Security + Vulnerabilities)
3. **Sequential Coordination** â†’ test-specialist for quality validation testing (Accumulated Context: Complete Quality Profile)
4. **Final Validation** â†’ Comprehensive quality gates with full context history (Success Rate: 94%)

### **infrastructure-deployment**
Comprehensive infrastructure deployment and validation:
```bash
/workflow-orchestrate infrastructure-deployment "Docker orchestration + environment sync + configuration management"
```

**Sequential Intelligence Flow:**
1. **infrastructure-engineer** â†’ Docker orchestration analysis (Context: Infrastructure + Docker)
2. **Context-Driven Sequencing** â†’ docker-specialist â†’ environment-synchronizer â†’ configuration-validator (Accumulated Context: Infrastructure + Optimization + Environment)
3. **Performance Integration** â†’ performance-optimizer with deployment context (Enhanced Context: Complete Infrastructure Profile)
4. **Final Validation** â†’ integration-validator for end-to-end validation (Success Rate: 91%)

### **testing-architecture**
Complete testing architecture design and implementation:
```bash
/workflow-orchestrate testing-architecture "coverage optimization + fixture design + integration testing"
```

**Sequential Intelligence Flow:**
1. **coverage-optimizer** â†’ Coverage gap analysis and testing strategy (Context: Testing + Coverage)
2. **Context-Enhanced Sequencing** â†’ fixture-design-specialist â†’ integration-validator (Accumulated Context: Testing Architecture + Coverage Strategy)
3. **Mock Integration** â†’ mock-configuration-expert with testing context (Enhanced Context: Complete Testing Architecture)
4. **Quality Validation** â†’ validation-tester for comprehensive QA (Success Rate: 93%)

### **performance-optimization**
System-wide performance analysis and optimization:
```bash
/workflow-orchestrate performance-optimization "system performance + resource optimization + infrastructure scaling"
```

**Orchestration Flow:**
1. **performance-optimizer** â†’ System-wide performance analysis
2. **Natural Coordination** â†’ resource-optimizer + infrastructure-engineer
3. **Configuration Tuning** â†’ configuration-validator for performance configs
4. **Validation Testing** â†’ Performance testing and benchmarking validation

## Sequential Intelligence Integration (Enhanced)

### **Sequential Intelligence Framework**
The command leverages enhanced sequential coordination patterns following Anthropic's guidelines:

#### **@.claude/memory/sequential-intelligence-patterns.md**
- Context accumulation strategies and smart next-agent selection
- Memory-driven sequential decisions and performance optimization
- Sequential error recovery patterns and learning integration
- RAG MemoryBank MCP specific sequential coordination patterns

### **Context Accumulation Workflows**
Workflows use sophisticated context accumulation:

#### **Progressive Context Enhancement**
```markdown
Initial Context â†’ Primary Agent Analysis â†’ Context Enhancement
â†’ Memory-Driven Next Selection â†’ Context Accumulation
â†’ Sequential Coordination â†’ Complete Solution with Context History
```

#### **Smart Sequential Decision Making**
- **Context-Based Selection**: Use accumulated context for optimal next-agent selection
- **Performance-Aware Sequencing**: Consider response times in sequential planning
- **Domain Transition Intelligence**: Smooth transitions between specialized agents
- **Error Recovery Sequencing**: Intelligent backtracking with context preservation

## Memory-Driven Orchestration

### **Workflow Memory Patterns**
The command leverages specialized workflow memory:

#### **@.claude/memory/workflows/quality-pipeline-patterns.md**
- Historical quality pipeline success patterns
- Security + quality + testing coordination intelligence
- Performance metrics and optimization tracking
- RAG MemoryBank MCP specific quality patterns

#### **@.claude/memory/workflows/infrastructure-deployment-patterns.md**
- Docker orchestration workflow intelligence
- Environment synchronization and configuration patterns
- MCP server + Qdrant deployment coordination
- Infrastructure performance optimization workflows

#### **@.claude/memory/workflows/testing-architecture-patterns.md**
- Testing strategy and architecture workflows
- Coverage optimization and fixture design coordination
- Integration testing and validation patterns
- RAG MemoryBank testing standard compliance (â‰¥82% coverage)

### **Adaptive Workflow Intelligence**
Workflows adapt based on:

#### **Context Analysis**
- **Project Context**: RAG MemoryBank MCP specific patterns
- **Historical Success**: Previous workflow coordination success rates
- **Performance Intelligence**: Response time and efficiency optimization
- **Domain Expertise**: Specialized agent coordination patterns

#### **Dynamic Coordination**
- **Natural Agent Selection**: Claude Code selects optimal agents based on enriched context
- **Memory-Enhanced Context**: Historical patterns inform agent coordination decisions
- **Adaptive Workflows**: Workflows adjust based on real-time context and requirements
- **Performance Optimization**: Continuous improvement based on coordination learning

## Advanced Orchestration Features

### **Parallel Execution Patterns**
Enable concurrent agent execution when beneficial:

#### **Infrastructure + Testing Parallel**
```bash
/workflow-orchestrate infrastructure-deployment "Docker setup" --parallel-testing
```
â†’ **Concurrent Execution**: infrastructure-engineer + docker-specialist (infrastructure focus)
â†’ **Parallel Validation**: integration-validator + test-specialist (testing validation)
â†’ **Coordination Point**: Merge results for comprehensive deployment validation

#### **Quality + Performance Parallel**
```bash
/workflow-orchestrate quality-pipeline "security + performance analysis" --parallel-execution
```
â†’ **Concurrent Analysis**: code-quality-specialist + security-auditor (quality focus)
â†’ **Parallel Optimization**: performance-optimizer + resource-optimizer (performance focus)
â†’ **Integration Point**: Unified quality + performance recommendations

### **Sequential Intelligence Checkpoints (Enhanced)**
Strategic checkpoints with enhanced sequential intelligence and context preservation:

#### **Sequential Quality Gate Validation**
- **Security Checkpoint**: All security vulnerabilities resolved + context enriched for next sequence
- **Testing Checkpoint**: Coverage requirements (â‰¥82%) + testing context accumulated for subsequent agents
- **Performance Checkpoint**: Performance targets achieved + optimization context preserved
- **Integration Checkpoint**: End-to-end validation + complete integration context maintained

#### **Enhanced Sequential Rollback Intelligence**
- **Context-Preserving Recovery**: Return to last checkpoint while maintaining accumulated context
- **Sequential Adaptive Retry**: Modify coordination patterns using context analysis and historical patterns
- **Learning Integration**: Capture sequential failure patterns for @.claude/memory/sequential-intelligence-patterns.md
- **Context Integrity**: Maintain complete workflow context history across checkpoint recovery
- **Smart Recovery Sequencing**: Use accumulated context to identify optimal recovery sequences

#### **Sequential Error Recovery Patterns**
Following Anthropic's sequential coordination philosophy:

**ðŸ”„ Context-Preserving Recovery Flow:**
```markdown
Sequential Workflow â†’ Agent Failure Detection â†’ Context Preservation
     â†“
Last Successful Checkpoint Analysis â†’ Accumulated Context Review
     â†“
Memory-Driven Recovery Planning â†’ Alternative Sequential Path Selection
     â†“
Context-Enhanced Recovery Agent Selection â†’ Continued Sequential Coordination
```

**Recovery Strategy Examples:**
- **Testing Sequence Failure**: Preserve test analysis context â†’ alternative testing specialist â†’ continue with enriched context
- **Infrastructure Sequence Issue**: Maintain infrastructure context â†’ backup coordination path â†’ enhanced deployment sequence
- **Quality Gate Failure**: Preserve quality analysis â†’ adaptive quality sequence â†’ integrated quality validation

## RAG MemoryBank MCP Workflow Intelligence

### **Project-Specific Workflows**

#### **MCP Server Development Workflow**
```bash
/workflow-orchestrate infrastructure-deployment "MCP server + FastMCP patterns + integration testing"
```
â†’ **FastMCP Integration**: Official FastMCP server implementation patterns
â†’ **Service Coordination**: MCP server + Qdrant vector database integration
â†’ **Testing Validation**: MCP server testing and integration validation
â†’ **Performance Optimization**: MCP server response time and throughput optimization

#### **RAG Pipeline Optimization Workflow**
```bash
/workflow-orchestrate performance-optimization "BM25S + vector similarity + hybrid search optimization"
```
â†’ **Hybrid Architecture**: BM25S keyword search + Qdrant vector similarity integration
â†’ **Performance Tuning**: Query processing optimization and response time enhancement
â†’ **Testing Validation**: RAG pipeline accuracy and performance testing
â†’ **Integration Testing**: End-to-end RAG workflow validation

#### **Quality Assurance Workflow**
```bash
/workflow-orchestrate quality-pipeline "Semgrep security + code standards + testing coverage"
```
â†’ **Security Scanning**: Semgrep integration with comprehensive vulnerability analysis
â†’ **Code Standards**: Project quality requirements and architectural compliance
â†’ **Testing Coverage**: â‰¥82% coverage requirement validation and gap analysis
â†’ **Integration Testing**: Quality assurance across all system components

## Performance Intelligence

### **Workflow Optimization Metrics**
Track and optimize workflow performance:

#### **Execution Time Optimization**
- **Sequential Workflows**: Optimize agent coordination timing and context passing
- **Parallel Workflows**: Balance concurrent execution with resource coordination
- **Checkpoint Efficiency**: Minimize checkpoint overhead while maintaining reliability
- **Memory Integration**: Leverage historical patterns for execution time optimization

#### **Success Rate Tracking**
- **Workflow Completion Rate**: Track successful workflow completion across different types
- **Agent Coordination Success**: Monitor effective agent coordination within workflows
- **Quality Gate Success**: Track quality checkpoint passage rates and improvement
- **Learning Integration**: Capture successful patterns for workflow intelligence enhancement

This workflow orchestration command provides sophisticated multi-agent coordination while leveraging Claude Code's natural selection patterns and comprehensive memory integration for optimal performance and intelligence.